#!/bin/bash

# Create a temporary prank app in ~/Applications
APP_DIR="$HOME/Applications/FakeTerminal.app"
SCRIPT_NAME="run.sh"
ICON_NAME="icon.png"

echo "[*] Setting up prank app at $APP_DIR..."

# Step 1: Create app structure
mkdir -p "$APP_DIR/Contents/MacOS"
mkdir -p "$APP_DIR/Contents/Resources"

# Step 2: Write the prank script
cat > "$APP_DIR/Contents/MacOS/$SCRIPT_NAME" <<EOF
#!/bin/bash
osascript -e 'display dialog "Haha imagine falling for this." with title "Gotcha!" buttons {"ðŸ˜³"}'
EOF
chmod +x "$APP_DIR/Contents/MacOS/$SCRIPT_NAME"

# Step 3: Download or copy the icon image
cp "Screenshot 2025-04-30 at 6.24.22â€¯PM.png" "$APP_DIR/Contents/Resources/$ICON_NAME"

# Step 4: Create Info.plist for app metadata and icon
cat > "$APP_DIR/Contents/Info.plist" <<EOF
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleName</key>
    <string>Terminal</string>
    <key>CFBundleExecutable</key>
    <string>$SCRIPT_NAME</string>
    <key>CFBundleIconFile</key>
    <string>$ICON_NAME</string>
    <key>CFBundleIdentifier</key>
    <string>com.apple.Terminal</string>
    <key>CFBundlePackageType</key>
    <string>APPL</string>
</dict>
</plist>
EOF

echo "[âœ“] Fake Terminal app created at: $APP_DIR"
echo "ðŸ‘‰ You can double-click it in Finder or open it from ~/Applications."
